import java.util.Scanner;

public class Lesson1 {

	public static void main(String[] args) {
//		float a1, b1, c1, a2, b2, c2;
//        Scanner sc = new Scanner(System.in);
//        int n = sc.nextInt();
//        for (int i = 0; i < n; i++) {
//            a1 = sc.nextFloat();
//            a2 = sc.nextFloat();
//            b1 = sc.nextFloat();
//            b2 = sc.nextFloat();
//            c1 = sc.nextFloat();
//            c2 = sc.nextFloat();
//            float D = (a1 * b2) - (a2 * b1);
//            float Dx = (c1 * b2) - (c2 * b1);
//            float Dy = (a1 * c2) - (a2 * c1);
//            System.out.println("DDXDY:" + D + ":" + Dx + ":" + Dy);
//            if (D == 0) {
//                if (Dx == 0) {
//                    System.out.println("VSN");
//                } else {
//                    System.out.println("VN");
//                }
//            } else {
//                float x = Dx / D;
//                float y = Dy / D;
//                System.out.println("Nghiem cua phuong trinh la: ");
//                System.out.println("x=" + x);
//                System.out.println("y=" + y);
//            }
//            System.out.println("===" + i + "===");
//        }
//        sc.close();
		int n;
		Scanner sc = new Scanner(System.in);
		System.out.print("Nhap so an cua hpt: ");
		n = sc.nextInt();
		float[][] A = new float[n][n + 1];
		System.out.println("Nhap ma tran he so:");
		for (int i = 0; i < n; i++) {
			for (int j = 0; j < n + 1; j++) {
				System.out.print("A[" + i + "][" + j + "]:");
				A[i][j] = sc.nextFloat();
			}
		}
		for (int i = 0; i < n; i++) {
			for (int j = 0; j < n + 1; j++) {
				System.out.print("\t ");
				System.out.print(A[i][j]);
			}
			System.out.println();
		}
		float D = 0;
		for (int i = 0; i < n; i++) {
			float temp = 1;
			for (int j = 0; j < n; j++) {
				temp = temp * A[(i + j) % n][j % n];
				System.out.print(A[(i + j) % n][j % n] + "\t");
			}
			System.out.println("add " + temp);
			D = D + temp;
			temp = 1;
			for (int j = 0; j < n; j++) {
				temp = temp * A[(i - j + n) % n][j % n];
				System.out.print(A[(i - j + n) % n][j % n] + "\t");
			}
			System.out.println("sub " + temp);
			D = D - temp;
		}
		// end of D
		System.out.println("==endofD==="+D);
		float[] Dj = new float[n];
		for (int k = 0; k < n; k++) {
			Dj[k] = 0;
			for (int i = 0; i < n; i++) {
				float temp = 1;
				for (int j = 0; j < n; j++) {
					if (j != k)
						temp = temp * A[(i + j) % n][j % n];
					else
						temp = temp * A[(i + j) % n][n];
					System.out.print(A[(i + j) % n][j % n] + "\t");
				}
				
				System.out.println("add " + temp);
				Dj[k] = Dj[k] + temp;
				temp = 1;
				for (int j = 0; j < n; j++) {
					if (j != k)
						temp = temp * A[(i - j + n) % n][j % n];
					else
						temp = temp * A[(i - j + n) % n][n];
					System.out.print(A[(i - j + n) % n][j % n] + "\t");
				}
				
				System.out.println("sub " + temp);
				Dj[k] = Dj[k] - temp;
			}
			System.out.println("==endofDj===" + Dj[k]);
		}
		System.out.println(D);
		for (int i = 0; i < Dj.length; i++) {
			System.out.println(Dj[i] + ":\t");
		}
		if (D == 0) {
			float s = 0;
			for (int i = 0; i < Dj.length; i++) {
				s = s + Dj[i];
			}
			if (s == 0)
				System.out.println("PT VO SO NGHIEM");
			else
				System.out.println("PHUONG TRINH VO NGHIEM");
		} else {
			System.out.println("Phuong trinh co " + n + " nghiem la");
			for (int i = 0; i < Dj.length; i++) {
				System.out.println("x" + i + "= " + (Dj[i] / D));
			}
		}

	}

}
